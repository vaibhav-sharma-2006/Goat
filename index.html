<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goat Distribution Analytics | Professional Dashboard</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js and Datalabels Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <style>
        :root {
            --bg-deep: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.7);
            --primary: #6366f1;
            --secondary: #ec4899;
            --accent: #10b981;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --glass-border: rgba(255, 255, 255, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }

        body {
            background-color: var(--bg-deep);
            background-image: radial-gradient(circle at 0% 0%, rgba(99, 102, 241, 0.15) 0, transparent 40%),
                radial-gradient(circle at 100% 100%, rgba(236, 72, 153, 0.1) 0, transparent 40%);
            color: var(--text-main);
            min-height: 100vh;
            padding: 40px 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        header h1 {
            font-size: 2.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, #818cf8, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        header p {
            color: var(--text-muted);
            font-size: 1.1rem;
            letter-spacing: 0.5px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            padding: 24px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
        }

        .stat-card:hover {
            border-color: rgba(255, 255, 255, 0.2);
            background: rgba(45, 55, 72, 0.82);
        }

        .stat-card h3 {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 12px;
        }

        .stat-card .val {
            font-size: 2.25rem;
            font-weight: 700;
            color: #fff;
        }

        /* Main Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-card {
            background: var(--bg-card);
            backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            padding: 28px;
            border-radius: 24px;
            /* FIXED HEIGHT for stability */
            min-height: 420px;
            height: 420px;
            display: flex;
            flex-direction: column;
            animation: fadeIn 1s ease-out;
        }

        .chart-card.full-width {
            grid-column: span 2;
        }

        .chart-card h2 {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: #fff;
            border-left: 4px solid var(--primary);
            padding-left: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-card h2 small {
            font-size: 0.8rem;
            color: var(--text-muted);
            font-weight: 400;
        }

        .chart-wrapper {
            flex-grow: 1;
            position: relative;
            min-height: 0;
            /* important for flexbox overflow */
        }

        /* Custom UI components */
        .impact-box {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(236, 72, 153, 0.1));
            border: 1px solid var(--glass-border);
            padding: 35px;
            border-radius: 24px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .impact-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
        }

        .impact-box h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .impact-item {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 16px;
            display: flex;
            gap: 15px;
        }

        .impact-item span {
            font-size: 1.5rem;
            background: rgba(99, 102, 241, 0.15);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            color: var(--primary);
        }

        .impact-item div h4 {
            color: var(--text-main);
            margin-bottom: 5px;
        }

        .impact-item div p {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.4;
        }

        /* Village Progress Table */
        .table-card {
            background: var(--bg-card);
            backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            padding: 28px;
            border-radius: 24px;
            margin-bottom: 40px;
        }

        .table-card h2 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #fff;
            border-left: 4px solid var(--accent);
            padding-left: 15px;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        th {
            text-align: left;
            padding: 16px;
            color: var(--text-muted);
            font-size: 0.85rem;
            text-transform: uppercase;
            border-bottom: 1px solid var(--glass-border);
            letter-spacing: 1px;
        }

        td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 1rem;
            color: #e2e8f0;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .tag {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .chart-card.full-width {
                grid-column: span 1;
            }

            .chart-card {
                height: 380px;
                min-height: 380px;
            }
        }

        @media (max-width: 640px) {
            header h1 {
                font-size: 2rem;
            }

            body {
                padding: 20px 15px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>PROJECT PRAGATI GOAT DISTRIBUTION</h1>
            <p>Beneficiary Progress & Livelihood Impact Report ‚Ä¢ 2026</p>
        </header>

        <!-- Executive Summary Cards -->
        <section class="stats-grid">
            <div class="stat-card" style="animation-delay: 0.1s">
                <h3>Total Beneficiaries</h3>
                <div class="val">369</div>
            </div>
            <div class="stat-card" style="animation-delay: 0.2s">
                <h3>Total Distribution</h3>
                <div class="val">375</div>
            </div>
            <div class="stat-card" style="animation-delay: 0.4s">
                <h3>Village Coverage</h3>
                <div class="val">27</div>
            </div>
        </section>

        <!-- Charts Section 1 -->
        <div class="dashboard-grid">
            <!-- Graph A: Samajik Varg -->
            <div class="chart-card">
                <h2>Distribution by social category</h2>
                <div class="chart-wrapper">
                    <canvas id="vargChart"></canvas>
                </div>
            </div>

            <!-- Priority Category Pie -->
            <div class="chart-card">
                <h2>Priority Category Breakdown</h2>
                <div class="chart-wrapper">
                    <canvas id="priorityChart"></canvas>
                </div>
            </div>

            <!-- Graph B: Jati Distribution (Full width) -->
            <div class="chart-card full-width">
                <h2>Top Caste (Jati) Distribution</h2>
                <div class="chart-wrapper">
                    <canvas id="jatiChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Strategic Insights Box -->
        <section class="impact-box">
            <h2>üß† Strategic Observations & Impacts</h2>
            <div class="impact-grid">
                <div class="impact-item">
                    <span>üè†</span>
                    <div>
                        <h4>Asset Improvement</h4>
                        <p>41.2% of families now own 3 or more goats, significantly enhancing household resilience.</p>
                    </div>
                </div>
                <div class="impact-item">
                    <span>‚öñÔ∏è</span>
                    <div>
                        <h4>Social Equity</h4>
                        <p>OBC and ST categories together comprise 82% of total support, ensuring aid reaches backward
                            classes.</p>
                    </div>
                </div>
                <div class="impact-item">
                    <span>üíú</span>
                    <div>
                        <h4>Vulnerability Focus</h4>
                        <p>76 widows and 4 abandoned families received priority support, securing livelihoods for
                            women-led households.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Charts Section 2 -->
        <div class="dashboard-grid">
            <!-- SMF vs SEF Breakdown -->
            <div class="chart-card">
                <h2>SMF vs SEF Distribution</h2>
                <div class="chart-wrapper">
                    <canvas id="policyChart"></canvas>
                </div>
            </div>

            <!-- Family Goat Strength -->
            <div class="chart-card">
                <h2>Family Goat Strength</h2>
                <div class="chart-wrapper">
                    <canvas id="strengthChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Regional Table and Top Village Chart -->
        <div class="dashboard-grid">
            <div class="chart-card">
                <h2>Hamlet Names</h2>
                <div class="chart-wrapper">
                    <canvas id="villageChart"></canvas>
                </div>
            </div>

            <div class="table-card">
                <h2>Core Statistics Summary</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Metric Description</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1-Goat Units Distributed</td>
                            <td>363 Beneficiaries</td>
                        </tr>
                        <tr>
                            <td>2-Goat Units Distributed</td>
                            <td>6 Beneficiaries</td>
                        </tr>
                        <tr>
                            <td>Widow Category Coverage</td>
                            <td>20.6% Contribution</td>
                        </tr>
                        <tr>
                            <td>Tribal Community Reach</td>
                            <td>107 ST Families</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- NEW Village Analysis Table -->
        <div class="table-card" style="margin-top: 40px;">
            <h2>Detailed Regional Analysis (Top Villages)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Village Name</th>
                        <th>Distribution Volume</th>
                        <th>Recipients</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ramgarh</td>
                        <td>57 Units</td>
                        <td>57</td>
                    </tr>
                    <tr>
                        <td>Kelu</td>
                        <td>30 Units</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td>Dedpura</td>
                        <td>29 Units</td>
                        <td>29</td>
                    </tr>
                    <tr>
                        <td>Shivpuri</td>
                        <td>27 Units</td>
                        <td>27</td>
                    </tr>
                    <tr>
                        <td>Surajpura II</td>
                        <td>24 Units</td>
                        <td>23</td>
                    </tr>
                    <tr>
                        <td>Kharwa</td>
                        <td>25 Units</td>
                        <td>23</td>
                    </tr>
                    <tr>
                        <td>Shivnagar</td>
                        <td>20 Units</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td>Devas</td>
                        <td>18 Units</td>
                        <td>18</td>
                    </tr>
                    <tr>
                        <td>Pithavas</td>
                        <td>19 Units</td>
                        <td>18</td>
                    </tr>
                    <tr>
                        <td>Kanpura</td>
                        <td>16 Units</td>
                        <td>16</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <footer
            style="text-align: center; margin-top: 50px; padding: 30px; border-top: 1px solid var(--glass-border); color: var(--text-muted); font-size: 0.9rem;">
            ¬© 2026 Disha RCD Social Service Society | Final Corrected Analytics Report
        </footer>
    </div>

    <script>
        // Global Chart Configuration
        Chart.register(ChartDataLabels);
        Chart.defaults.color = '#94a3b8';
        Chart.defaults.font.family = "'Outfit', sans-serif";
        Chart.defaults.font.size = 11;

        // Data Registry
        const data = {
            varg: { labels: ['OBC', 'ST', 'SC', 'GEN'], vals: [195, 107, 57, 10] },
            priority: { labels: ['Married', 'Widow', 'Abandoned'], vals: [289, 76, 4] },
            jati: { labels: ['BHIL', 'RAWAT', 'KALBELIYA', 'MEGWANSI', 'GURJAR', 'REGAR', 'GADIYA LUHAR', 'SAI MUSLIM', 'PRAJAPAT', 'NAYAK'], vals: [105, 96, 30, 22, 19, 15, 13, 6, 6, 5] },
            policy: { labels: ['SMF (1G)', 'SEF (1G)', 'SMF (2G)', 'SEF (2G)'], vals: [197, 166, 3, 3] },
            strength: { labels: ['0‚Äì2 Goats', '3‚Äì5 Goats', '> 5 Goats'], vals: [217, 146, 6] },
            villages: { labels: ['Jhuto Ka Badiya', 'Bhil Basti', 'Kelu', 'Kesar Colony', 'Rebariyo Dhani', 'Dedpura', 'Surajpura II', 'Jorawarpura', 'Amarpura', 'Shyopura'], vals: [24, 19, 19, 17, 16, 15, 14, 12, 12, 11] }
        };

        // Shared Options Creator
        const createOptions = (titleX = '', titleY = '', isHorizontal = false, isPie = false) => ({
            responsive: true,
            maintainAspectRatio: false,
            animation: { duration: 1500, easing: 'easeOutQuart' },
            layout: { padding: { top: 25, bottom: isPie ? 10 : 35, left: isHorizontal ? 20 : 10, right: 35 } },
            plugins: {
                legend: { display: isPie, position: 'bottom', labels: { padding: 20, color: '#f1f5f9' } },
                datalabels: {
                    display: true,
                    color: '#fff',
                    font: { weight: '700', size: 12 },
                    formatter: (value, ctx) => {
                        let total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                        let percentage = ((value / total) * 100).toFixed(1) + '%';
                        return isPie ? `${value}\n(${percentage})` : `${value} (${percentage})`;
                    },
                    anchor: isHorizontal ? 'end' : (isPie ? 'center' : 'end'),
                    align: isHorizontal ? 'right' : (isPie ? 'center' : 'top'),
                    offset: isPie ? 0 : 5
                },
                tooltip: { enabled: true }
            },
            scales: isPie ? {} : {
                y: {
                    beginAtZero: true,
                    grid: { color: 'rgba(255,255,255,0.05)', drawBorder: false },
                    title: { display: titleY !== '', text: titleY, color: '#94a3b8', font: { size: 12, weight: '600' } }
                },
                x: {
                    beginAtZero: true,
                    grid: { color: 'rgba(255,255,255,0.05)', drawBorder: false },
                    title: { display: titleX !== '', text: titleX, color: '#94a3b8', font: { size: 12, weight: '600' } }
                }
            }
        });

        // Initialize Charts
        window.addEventListener('load', () => {
            // Samajik Varg
            new Chart('vargChart', {
                type: 'bar',
                data: {
                    labels: data.varg.labels,
                    datasets: [{
                        label: 'Beneficiaries',
                        data: data.varg.vals,
                        backgroundColor: 'rgba(99, 102, 241, 0.7)',
                        borderRadius: 12,
                        hoverBackgroundColor: 'rgba(99, 102, 241, 0.9)'
                    }]
                },
                options: createOptions('Samajik Varg Category', 'Number of Beneficiaries')
            });

            // Priority Category
            new Chart('priorityChart', {
                type: 'doughnut',
                data: {
                    labels: data.priority.labels,
                    datasets: [{
                        data: data.priority.vals,
                        backgroundColor: ['#6366f1', '#ec4899', '#f59e0b'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: { ...createOptions('', '', false, true), cutout: '65%' }
            });

            // Jati Distribution
            new Chart('jatiChart', {
                type: 'bar',
                data: {
                    labels: data.jati.labels,
                    datasets: [{
                        label: 'Beneficiaries',
                        data: data.jati.vals,
                        backgroundColor: 'rgba(236, 72, 153, 0.7)',
                        borderRadius: 8
                    }]
                },
                options: { ...createOptions('Number of Beneficiaries', 'Caste Groups', true), indexAxis: 'y' }
            });

            // Policy Breakdown
            new Chart('policyChart', {
                type: 'bar',
                data: {
                    labels: data.policy.labels,
                    datasets: [{
                        label: 'Families',
                        data: data.policy.vals,
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 12
                    }]
                },
                options: createOptions('Beneficiary Type & Goat Unit', 'Number of Families')
            });

            // Strength Analysis
            new Chart('strengthChart', {
                type: 'bar',
                data: {
                    labels: data.strength.labels,
                    datasets: [{
                        label: 'Impact Group',
                        data: data.strength.vals,
                        backgroundColor: 'rgba(245, 158, 11, 0.7)',
                        borderRadius: 12
                    }]
                },
                options: createOptions('Total Goat Ownership Bucket', 'Number of Families')
            });

            // Village Impact
            new Chart('villageChart', {
                type: 'bar',
                data: {
                    labels: data.villages.labels,
                    datasets: [{
                        label: 'Goats Distributed',
                        data: data.villages.vals,
                        backgroundColor: 'rgba(99, 102, 241, 0.7)',
                        borderRadius: 8
                    }]
                },
                options: { ...createOptions('Goats Distributed', 'Hamlet Names', true), indexAxis: 'y' }
            });
        });
    </script>
</body>

</html>



